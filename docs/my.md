# 生产者

当我们在生产者发送一条消息出去的时候，必须要知道topic在broker端的分布情况，才能判断消息应该发去哪些节点，

比如 **topic对应的leader分区有哪些**，**leader分区分布在哪些broker节点**，**topic分区的动态变更**，等等。所以及时的获取最新的元数据对于生产者正常工作是非常有必要的。

而元数据在生产者端获取涉及的组件比较多，主要分为在KafkaProducer主线程加载元数据，Sender子线程拉取元数据。1

